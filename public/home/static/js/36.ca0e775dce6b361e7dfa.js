webpackJsonp([36],{"+gff":function(t,e,n){"use strict";function a(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function a(i,r){try{var o=e[i](r),s=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(s).then(function(t){a("next",t)},function(t){a("throw",t)});t(s)}return a("next")})}}e.a={data:function(){return{pages:{perPage:8,currPage:1,pageCount:1,totalCount:1},items:[],loading:!1,finished:!0,isEmpty:!1}},methods:{resetInit:function(t){var e=this;return a(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.resetData(),t.next=3,e.initData();case 3:n=t.sent,e.$nextTick(function(){e.setPages(n)});case 5:case"end":return t.stop()}},t,e)}))()},isFinished:function(){this.finished=!0,this.loading=!1},loadMore:function(){var t=this;return a(regeneratorRuntime.mark(function e(){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,!(n.pages.pageCount<n.pages.currPage)){e.next=6;break}n.$toast({message:"没有更多了~",position:"top"}),n.isFinished(),e.next=10;break;case 6:return e.next=8,n.initData(!0);case 8:a=e.sent,n.nextPage(a.pageCount);case 10:n.loading=!1;case 11:case"end":return e.stop()}},e,t)}))()},nextPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.pages.currPage+=1,this.pages.pageCount=t},setPages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isEmpty=0===t.totalCount,t.totalCount<=this.pages.perPage?this.isFinished():(this.finished=!1,this.nextPage(t.pageCount))},resetData:function(){this.items=[],this.pages={perPage:8,currPage:1,pageCount:1,totalCount:1},this.loading=!1,this.finished=!0,this.isEmpty=!1}}}},"/XVU":function(t,e,n){var a=n("LIkr");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("FIqI")("1c57746e",a,!0,{})},LIkr:function(t,e,n){e=t.exports=n("UTlt")(!0),e.push([t.i,".bounced[data-v-0d186621]{width:70%;height:60%;padding:20px 10px;font-size:12px}","",{version:3,sources:["D:/javascript/ditui_clients/src/views/home/notice.vue"],names:[],mappings:"AACA,0BACE,UAAW,AACX,WAAY,AACZ,kBAAmB,AACnB,cAAgB,CACjB",file:"notice.vue",sourcesContent:["\n.bounced[data-v-0d186621] {\n  width: 70%;\n  height: 60%;\n  padding: 20px 10px;\n  font-size: 12px;\n}\n"],sourceRoot:""}])},"R+aU":function(t,e,n){"use strict";function a(t){n("/XVU")}Object.defineProperty(e,"__esModule",{value:!0});var i=n("wecs"),r=n("eM81"),o=n("C7Lr"),s=a,c=o(i.a,r.a,!1,s,"data-v-0d186621",null);e.default=c.exports},eM81:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("van-list",{attrs:{finished:t.finished,"immediate-check":!1,offset:100},on:{load:t.loadMore},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.items,function(e){return n("van-cell",{key:e.id,attrs:{title:e.title,"is-link":""},on:{click:function(n){return t.openNotice(e)}}})}),1),t._v(" "),n("van-popup",{staticClass:"bounced",domProps:{innerHTML:t._s(t.content)},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},i=[],r={render:a,staticRenderFns:i};e.a=r},wecs:function(t,e,n){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var i=n("cnGM"),r=(n.n(i),n("S6j6")),o=n.n(r),s=n("Mcfu"),c=(n.n(s),n("r9aq")),u=n.n(c),d=n("vMJZ"),p=n("+gff");e.a={name:"notice",mixins:[p.a],data:function(){return{show:!1,content:""}},components:{List:u.a,Cell:o.a},created:function(){this.resetInit()},methods:{initData:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],localStorage.getItem("token"));this.$reqGet(d.B,{token:e,per_page:20,page:1}).then(function(e){return t.loadSuccess(e)}).catch(function(t){})},loadSuccess:function(t){var e,n=t.data.data.list;if(!n)return this.pages;var i={pageCount:t.data.data.pageCount,currPage:t.data.data.currPage,perPage:t.data.data.perPage,totalCount:t.data.data.totalCount};return(e=this.items).push.apply(e,a(n)),i},openNotice:function(t){1==t.type?(this.show=!0,this.content=t.content):2==t.type&&(window.location.href=t.url)}}}}});
//# sourceMappingURL=36.ca0e775dce6b361e7dfa.js.map