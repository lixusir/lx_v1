{"version":3,"sources":["webpack:///static/js/36.b00bb50285f2fe2665f3.js","webpack:///./src/vue/mixin/list-load-more.js?fa07******","webpack:///./src/views/home/notice.vue?2dea","webpack:///src/views/home/notice.vue","webpack:///./src/views/home/notice.vue","webpack:///./src/views/home/notice.vue?8f99","webpack:///./src/views/home/notice.vue?c089"],"names":["webpackJsonp","+gff","module","__webpack_exports__","__webpack_require__","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","data","pages","perPage","currPage","pageCount","totalCount","items","loading","finished","isEmpty","methods","resetInit","params","resetData","initData","page","$nextTick","setPages","isFinished","loadMore","vm","$toast","message","position","nextPage","91Oe","exports","content","i","locals","BSMq","_toConsumableArray","arr","Array","isArray","arr2","length","from","__WEBPACK_IMPORTED_MODULE_0_vant_lib_cell_style__","__WEBPACK_IMPORTED_MODULE_1_vant_lib_cell__","n","__WEBPACK_IMPORTED_MODULE_1_vant_lib_cell___default","__WEBPACK_IMPORTED_MODULE_2_vant_lib_list_style__","__WEBPACK_IMPORTED_MODULE_3_vant_lib_list__","__WEBPACK_IMPORTED_MODULE_3_vant_lib_list___default","__WEBPACK_IMPORTED_MODULE_4__api_user__","__WEBPACK_IMPORTED_MODULE_5__vue_mixin_list_load_more__","R+aU","injectStyle","ssrContext","normalizeComponent","__vue_styles__","Component","cb3B","push","dDti","render","_vm","_h","$createElement","_c","_self","attrs","on","model","callback","$$v","expression","_l","item","id","title","$event","openNotice","_v","staticClass","domProps","_s","show","staticRenderFns","esExports"],"mappings":"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","file":"static/js/36.b00bb50285f2fe2665f3.js","sourcesContent":["webpackJsonp([36],{\n\n/***/ \"+gff\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tdata: function data() {\n\t\treturn {\n\t\t\tpages: {\n\t\t\t\tperPage: 8,\n\t\t\t\tcurrPage: 1,\n\t\t\t\tpageCount: 1,\n\t\t\t\ttotalCount: 1\n\t\t\t},\n\t\t\titems: [],\n\t\t\tloading: false,\n\t\t\tfinished: true,\n\t\t\tisEmpty: false\n\t\t};\n\t},\n\n\n\tmethods: {\n\t\tresetInit: function resetInit(params) {\n\t\t\tvar _this = this;\n\n\t\t\treturn _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n\t\t\t\tvar page;\n\t\t\t\treturn regeneratorRuntime.wrap(function _callee$(_context) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context.prev = _context.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t_this.resetData();\n\n\t\t\t\t\t\t\t\t_context.next = 3;\n\t\t\t\t\t\t\t\treturn _this.initData();\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tpage = _context.sent;\n\n\t\t\t\t\t\t\t\t_this.$nextTick(function () {\n\t\t\t\t\t\t\t\t\t_this.setPages(page);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\tcase \"end\":\n\t\t\t\t\t\t\t\treturn _context.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee, _this);\n\t\t\t}))();\n\t\t},\n\t\tisFinished: function isFinished() {\n\t\t\tthis.finished = true;\n\t\t\tthis.loading = false;\n\t\t},\n\t\tloadMore: function loadMore() {\n\t\t\tvar _this2 = this;\n\n\t\t\treturn _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n\t\t\t\tvar vm, page;\n\t\t\t\treturn regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tswitch (_context2.prev = _context2.next) {\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\tvm = _this2;\n\n\t\t\t\t\t\t\t\tif (!(vm.pages.pageCount < vm.pages.currPage)) {\n\t\t\t\t\t\t\t\t\t_context2.next = 6;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvm.$toast({\n\t\t\t\t\t\t\t\t\tmessage: \"没有更多了~\",\n\t\t\t\t\t\t\t\t\tposition: \"top\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tvm.isFinished();\n\t\t\t\t\t\t\t\t_context2.next = 10;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 6:\n\t\t\t\t\t\t\t\t_context2.next = 8;\n\t\t\t\t\t\t\t\treturn vm.initData(true);\n\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\tpage = _context2.sent;\n\n\t\t\t\t\t\t\t\t// this.$nextTick(() => {\n\t\t\t\t\t\t\t\t//   this.setPages(page);\n\t\t\t\t\t\t\t\t// })\n\t\t\t\t\t\t\t\tvm.nextPage(page.pageCount);\n\n\t\t\t\t\t\t\tcase 10:\n\t\t\t\t\t\t\t\tvm.loading = false;\n\n\t\t\t\t\t\t\tcase 11:\n\t\t\t\t\t\t\tcase \"end\":\n\t\t\t\t\t\t\t\treturn _context2.stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, _callee2, _this2);\n\t\t\t}))();\n\t\t},\n\t\tnextPage: function nextPage() {\n\t\t\tvar pageCount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n\t\t\tthis.pages.currPage += 1;\n\t\t\tthis.pages.pageCount = pageCount;\n\t\t},\n\t\tsetPages: function setPages() {\n\t\t\tvar page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tthis.isEmpty = page.totalCount === 0;\n\t\t\tif (page.totalCount <= this.pages.perPage) {\n\t\t\t\t//不满一页\n\t\t\t\tthis.isFinished();\n\t\t\t} else {\n\t\t\t\t//下一页\n\t\t\t\tthis.finished = false;\n\t\t\t\tthis.nextPage(page.pageCount);\n\t\t\t}\n\t\t},\n\t\tresetData: function resetData() {\n\t\t\tthis.items = [];\n\t\t\tthis.pages = {\n\t\t\t\tperPage: 8,\n\t\t\t\tcurrPage: 1,\n\t\t\t\tpageCount: 1,\n\t\t\t\ttotalCount: 1\n\t\t\t};\n\t\t\tthis.loading = false;\n\t\t\tthis.finished = true;\n\t\t\tthis.isEmpty = false;\n\t\t}\n\t}\n});\n\n/***/ }),\n\n/***/ \"91Oe\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"cb3B\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"251784d0\", content, true, {});\n\n/***/ }),\n\n/***/ \"BSMq\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vant_lib_cell_style__ = __webpack_require__(\"cnGM\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vant_lib_cell_style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vant_lib_cell_style__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vant_lib_cell__ = __webpack_require__(\"S6j6\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vant_lib_cell___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vant_lib_cell__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vant_lib_list_style__ = __webpack_require__(\"Mcfu\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vant_lib_list_style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vant_lib_list_style__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vant_lib_list__ = __webpack_require__(\"r9aq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vant_lib_list___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_vant_lib_list__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__api_user__ = __webpack_require__(\"vMJZ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__vue_mixin_list_load_more__ = __webpack_require__(\"+gff\");\n\n\n\n //\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: \"notice\",\n\n  mixins: [__WEBPACK_IMPORTED_MODULE_5__vue_mixin_list_load_more__[\"a\" /* default */]],\n\n  data: function data() {\n    return {\n      show: false,\n      content: ''\n    };\n  },\n\n\n  components: {\n    List: __WEBPACK_IMPORTED_MODULE_3_vant_lib_list___default.a,\n    Cell: __WEBPACK_IMPORTED_MODULE_1_vant_lib_cell___default.a\n  },\n\n  created: function created() {\n    this.resetInit();\n  },\n\n\n  methods: {\n    initData: function initData() {\n      var _this = this;\n\n      var loadMore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      var token = localStorage.getItem(\"token\");\n      this.$reqGet(__WEBPACK_IMPORTED_MODULE_4__api_user__[\"B\" /* NOTICES */], {\n        token: token,\n        per_page: 20,\n        page: 1\n      }).then(function (res) {\n        return _this.loadSuccess(res);\n      }).catch(function (err) {});\n    },\n    loadSuccess: function loadSuccess(res) {\n      var _items;\n\n      var list = res.data.data.list;\n      if (!list) {\n        return this.pages;\n      }\n      var page = {\n        \"pageCount\": res.data.data.pageCount,\n        \"currPage\": res.data.data.currPage,\n        \"perPage\": res.data.data.perPage,\n        \"totalCount\": res.data.data.totalCount\n      };\n      (_items = this.items).push.apply(_items, _toConsumableArray(list));\n      return page;\n    },\n\n    openNotice: function openNotice(notice) {\n      // if(notice.type == 0){\n      //   Dialog.alert({\n      //     title: notice.title,\n      //     message: notice.content\n      //   }).then(() => {\n      //     // on close\n      //   });\n      // }else{\n      //   window.open(notice.content);\n      // }\n      if (notice.type == 1) {\n        this.show = true;\n        this.content = notice.content;\n      } else if (notice.type == 2) {\n        window.location.href = notice.url;\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"R+aU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_notice_vue__ = __webpack_require__(\"BSMq\");\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0d186621_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_notice_vue__ = __webpack_require__(\"dDti\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"91Oe\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0d186621\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_notice_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_0d186621_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_notice_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"cb3B\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".bounced[data-v-0d186621]{width:70%;height:60%;padding:20px 10px;font-size:12px}\", \"\", {\"version\":3,\"sources\":[\"D:/javascript/ditui_clients/src/views/home/notice.vue\"],\"names\":[],\"mappings\":\"AACA,0BACE,UAAW,AACX,WAAY,AACZ,kBAAmB,AACnB,cAAgB,CACjB\",\"file\":\"notice.vue\",\"sourcesContent\":[\"\\n.bounced[data-v-0d186621] {\\n  width: 70%;\\n  height: 60%;\\n  padding: 20px 10px;\\n  font-size: 12px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"dDti\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"immediate-check\":false,\"offset\":100},on:{\"load\":_vm.loadMore},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.items),function(item){return _c('van-cell',{key:item.id,attrs:{\"title\":item.title,\"is-link\":\"\"},on:{\"click\":function($event){return _vm.openNotice(item)}}})}),1),_vm._v(\" \"),_c('van-popup',{staticClass:\"bounced\",domProps:{\"innerHTML\":_vm._s(_vm.content)},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/36.b00bb50285f2fe2665f3.js","export default {\r\n\tdata(){\r\n\t\treturn {\r\n\t\t\tpages: {\r\n\t\t\t\tperPage: 8,\r\n\t\t\t\tcurrPage: 1,\r\n\t\t\t\tpageCount: 1,\r\n        totalCount:1\r\n\t\t\t},\r\n\t\t\titems: [],\r\n\t\t\tloading: false,\r\n\t\t\tfinished: true,\r\n\t\t\tisEmpty: false,\r\n\t\t}\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tasync resetInit(params){\r\n\t\t\tthis.resetData();\r\n\r\n\t\t\tlet page = await this.initData();\r\n\t\t\tthis.$nextTick(() => {\r\n        this.setPages(page);\r\n\t\t\t})\r\n\t\t},\r\n\t\tisFinished() {\r\n\t\t\tthis.finished = true;\r\n\t\t\tthis.loading = false;\r\n\t\t},\r\n\t\tasync loadMore() {\r\n\t\t\tconst vm = this;\r\n\t\t\tif (vm.pages.pageCount < vm.pages.currPage) {\r\n\t\t\t\tvm.$toast({\r\n\t\t\t\t\tmessage: \"没有更多了~\",\r\n\t\t\t\t\tposition: \"top\"\r\n\t\t\t\t});\r\n\t\t\t\tvm.isFinished();\r\n\t\t\t}else{\r\n\t\t\t\tlet page = await vm.initData(true);\r\n        // this.$nextTick(() => {\r\n        //   this.setPages(page);\r\n        // })\r\n\t\t\t\tvm.nextPage(page.pageCount);\r\n\t\t\t}\r\n\t\t\tvm.loading = false;\r\n\t\t},\r\n\t\tnextPage(pageCount = 1){\r\n\t\t\tthis.pages.currPage += 1;\r\n\t\t\tthis.pages.pageCount = pageCount;\r\n\t\t},\r\n\t\tsetPages(page = {}){\r\n\t\t\tthis.isEmpty = (page.totalCount === 0);\r\n\t\t\tif(page.totalCount <= this.pages.perPage){\r\n\t\t\t\t//不满一页\r\n\t\t\t\tthis.isFinished();\r\n\t\t\t}else{\r\n\t\t\t\t//下一页\r\n        this.finished = false;\r\n\t\t\t\tthis.nextPage(page.pageCount);\r\n\t\t\t}\r\n\t\t},\r\n\t\tresetData(){\r\n\t\t\tthis.items = [];\r\n\t\t\tthis.pages = {\r\n\t\t\t\tperPage: 8,\r\n\t\t\t\tcurrPage: 1,\r\n\t\t\t\tpageCount: 1,\r\n        totalCount:1\r\n\t\t\t}\r\n\t\t\tthis.loading = false;\r\n\t\t\tthis.finished = true;\r\n\t\t\tthis.isEmpty = false;\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vue/mixin/list-load-more.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0d186621\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./notice.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"251784d0\", content, true, {});\n\n\n// WEBPACK FOOTER //\n// \"}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0d186621\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/home/notice.vue","<template>\r\n<div id=\"app\">\r\n  <van-list\r\n    v-model=\"loading\"\r\n    :finished=\"finished\"\r\n    :immediate-check=\"false\"\r\n    :offset=\"100\"\r\n    @load=\"loadMore\">\r\n    <van-cell v-for=\"item in items\" :key=\"item.id\" :title=\"item.title\" @click=\"openNotice(item)\" is-link/>\r\n  </van-list>\r\n\r\n  <van-popup class=\"bounced\" v-model=\"show\" v-html=\"content\"></van-popup>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  import {List, Cell} from 'vant'\r\n  import { Popup } from 'vant'\r\n  import { NOTICES } from \"@/api/user\";\r\n  import loadMore from \"@/vue/mixin/list-load-more\";\r\n\r\n  export default {\r\n    name: \"notice\",\r\n\r\n    mixins: [loadMore],\r\n\r\n    data() {\r\n      return {\r\n        show: false,\r\n        content: ''\r\n      }\r\n    },\r\n\r\n    components: {\r\n      List,\r\n      Cell\r\n    },\r\n\r\n    created(){\r\n      this.resetInit();\r\n    },\r\n\r\n    methods: {\r\n      initData(loadMore = false) {\r\n        let token = localStorage.getItem(\"token\");\r\n        this.$reqGet(NOTICES, {\r\n          token: token,\r\n          per_page: 20,\r\n          page: 1\r\n        }).then((res) => {\r\n          return this.loadSuccess(res);\r\n        }).catch((err) => {\r\n\r\n        })\r\n      },\r\n      loadSuccess(res) {\r\n        let list = res.data.data.list;\r\n        if(!list){\r\n          return this.pages;\r\n        }\r\n        let page = {\r\n          \"pageCount\":res.data.data.pageCount,\r\n          \"currPage\":res.data.data.currPage,\r\n          \"perPage\":res.data.data.perPage,\r\n          \"totalCount\":res.data.data.totalCount\r\n        };\r\n        this.items.push(...list);\r\n        return page;\r\n      },\r\n      openNotice: function(notice) {\r\n        // if(notice.type == 0){\r\n        //   Dialog.alert({\r\n        //     title: notice.title,\r\n        //     message: notice.content\r\n        //   }).then(() => {\r\n        //     // on close\r\n        //   });\r\n        // }else{\r\n        //   window.open(notice.content);\r\n        // }\r\n        if (notice.type == 1) {\r\n          this.show = true;\r\n          this.content = notice.content;\r\n        } else if (notice.type == 2) {\r\n          window.location.href = notice.url;\r\n        }\r\n      },\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .bounced {\r\n    width: 70%;\r\n    height: 60%;\r\n    padding: 20px 10px;\r\n    font-size: 12px;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/home/notice.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0d186621\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./notice.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./notice.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./notice.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0d186621\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./notice.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0d186621\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/home/notice.vue\n// module id = R+aU\n// module chunks = 36","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".bounced[data-v-0d186621]{width:70%;height:60%;padding:20px 10px;font-size:12px}\", \"\", {\"version\":3,\"sources\":[\"D:/javascript/ditui_clients/src/views/home/notice.vue\"],\"names\":[],\"mappings\":\"AACA,0BACE,UAAW,AACX,WAAY,AACZ,kBAAmB,AACnB,cAAgB,CACjB\",\"file\":\"notice.vue\",\"sourcesContent\":[\"\\n.bounced[data-v-0d186621] {\\n  width: 70%;\\n  height: 60%;\\n  padding: 20px 10px;\\n  font-size: 12px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-0d186621\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/home/notice.vue\n// module id = cb3B\n// module chunks = 36","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"immediate-check\":false,\"offset\":100},on:{\"load\":_vm.loadMore},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.items),function(item){return _c('van-cell',{key:item.id,attrs:{\"title\":item.title,\"is-link\":\"\"},on:{\"click\":function($event){return _vm.openNotice(item)}}})}),1),_vm._v(\" \"),_c('van-popup',{staticClass:\"bounced\",domProps:{\"innerHTML\":_vm._s(_vm.content)},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d186621\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/home/notice.vue\n// module id = dDti\n// module chunks = 36"],"sourceRoot":""}